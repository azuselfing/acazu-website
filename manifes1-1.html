import React, { useState, useEffect } from 'react';
import { 
  BookOpen, Brain, Anchor, Heart, ArrowRight, CheckCircle, 
  Menu, X, Instagram, ChevronDown, AlertCircle, 
  Lightbulb, Shield, Thermometer, Activity, Zap, User, 
  RefreshCw, Layers, Battery, Database, MousePointer, 
  Play, Pause, FastForward, MessageCircle
} from 'lucide-react';

const App = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);

  // Scroll listener
  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const toggleMenu = () => setIsMenuOpen(!isMenuOpen);

  return (
    <div className="font-sans text-[#444444] bg-[#F8F9FB] min-h-screen selection:bg-[#FADCE6] overflow-x-hidden">
      
      {/* Font & Style Loading */}
      <style jsx global>{`
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Shippori+Mincho:wght@400;500;600&family=Alex+Brush&display=swap');
        
        .font-script { font-family: 'Alex Brush', cursive; }
        .font-serif { font-family: 'Shippori Mincho', serif; }
        .font-sans { font-family: 'Noto Sans JP', sans-serif; }
        
        .shadow-card { box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04); }
        .shadow-floating { box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1); }
        
        .clip-triangle-top { clip-path: polygon(50% 0%, 0% 100%, 100% 100%); }
        .clip-trapezoid { clip-path: polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%); }
        
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.4; transform: scale(1) translate(33%, -50%); }
          50% { opacity: 0.3; transform: scale(1.1) translate(33%, -50%); }
        }
        .animate-pulse-slow { animation: pulse-slow 8s infinite ease-in-out; }
        
        /* New Animations */
        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-float { animation: float 3s ease-in-out infinite; }
      `}</style>

      {/* --- Navigation --- */}
      <nav className={`fixed w-full z-50 transition-all duration-300 ${scrolled ? 'bg-[#FFFFFF]/95 backdrop-blur-md shadow-card py-3' : 'bg-transparent py-5'}`}>
        <div className="container mx-auto px-4 flex justify-between items-center">
          <div className="flex items-center gap-2">
            <div className="w-10 h-10 bg-[#DFA6B9] rounded-full flex items-center justify-center text-white font-serif font-bold text-xl shadow-md">A</div>
            <span className="font-serif text-xl font-bold tracking-tight text-[#444444]">Azu.Selfing</span>
          </div>
          
          <div className="hidden md:flex space-x-8 text-sm font-medium text-[#777777] items-center">
            <a href="#" className="hover:text-[#DFA6B9] transition-colors font-sans">ホーム</a>
            <a href="#" className="hover:text-[#DFA6B9] transition-colors font-sans">メソッド</a>
            <a href="#" className="hover:text-[#DFA6B9] transition-colors font-sans">受講生の声</a>
            <a href="#" className="px-6 py-2.5 bg-[#DFA6B9] text-white rounded-full hover:bg-[#DFA6B9]/90 hover:shadow-lg transition-all transform hover:-translate-y-0.5 text-xs tracking-wider font-bold shadow-md font-sans">
              講座に参加する
            </a>
          </div>

          <button onClick={toggleMenu} className="md:hidden text-[#444444] p-2">
            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}
          </button>
        </div>
      </nav>

      {/* --- Mobile Menu --- */}
      {isMenuOpen && (
        <div className="fixed inset-0 bg-[#F8F9FB] z-40 flex flex-col items-center justify-center space-y-8 animate-fade-in md:hidden">
          <a href="#" className="text-2xl font-serif text-[#444444]">Home</a>
          <a href="#" className="text-2xl font-serif text-[#444444]">Method</a>
          <a href="#" className="text-2xl font-serif text-[#444444]">Voice</a>
          <a href="#" className="px-10 py-4 bg-[#DFA6B9] text-white rounded-full shadow-card font-sans">講座に参加する</a>
        </div>
      )}

      {/* --- Hero Section --- */}
      <header className="relative pt-36 pb-20 px-4 overflow-hidden text-center">
        {/* Abstract Background Shapes (Azu Palette) */}
        <div className="absolute top-0 right-0 w-[60vw] h-[60vw] bg-[#FADCE6]/60 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 animate-pulse-slow"></div>
        <div className="absolute top-40 left-0 w-[40vw] h-[40vw] bg-[#DFF0F6]/60 rounded-full blur-[80px] -translate-x-1/2"></div>

        <div className="container mx-auto max-w-4xl relative z-10">
          <div className="inline-block px-4 py-1 mb-6 bg-white border border-[#DFA6B9] rounded-full shadow-sm">
            <span className="text-xs font-bold tracking-widest text-[#DFA6B9] uppercase font-sans">Lesson 01</span>
          </div>
          
          <h1 className="text-3xl md:text-5xl font-bold text-[#444444] leading-tight mb-6 font-serif">
            「変わりたい」のに変われない。<br/>
            <span className="text-[#DFA6B9]">本当の理由</span>を知っていますか？
          </h1>
          
          <p className="text-[#777777] text-base md:text-lg max-w-2xl mx-auto mb-10 font-sans font-light">
            意思が弱いからではありません。<br/>
            あなたの脳が正常に<strong>「仕事」</strong>をしているだけなんです。
          </p>

          <div className="w-16 h-16 mx-auto bg-white rounded-full flex items-center justify-center shadow-lg animate-bounce text-[#B89679]">
            <ChevronDown size={28} />
          </div>
        </div>
      </header>

      {/* --- Main Content --- */}
      <main className="container mx-auto px-4 pb-24 max-w-5xl">

        {/* 1. Introduction: Acknowledgement */}
        <section className="bg-[#FFFFFF] rounded-3xl p-8 shadow-card mb-20 relative overflow-hidden border-l-8 border-[#DFA6B9]">
          <div className="flex flex-col md:flex-row gap-6 items-center">
            <div className="shrink-0 bg-[#FADCE6] p-4 rounded-full text-[#DFA6B9]">
              <Heart size={32} fill="currentColor" />
            </div>
            <div>
              <h2 className="text-xl font-bold text-[#444444] mb-2 font-serif">まずは自分を褒めよう</h2>
              <p className="text-[#777777] font-sans text-sm md:text-base">
                このページを開いた「決断」こそが、全ての始まり。<br/>
                忙しい中、自分のために時間を作ったあなた自身を、まずは認めてあげてくださいね。
              </p>
            </div>
          </div>
        </section>

        {/* 2. The Iceberg Diagram (Simplified) */}
        <section className="mb-24">
          <h2 className="text-2xl font-bold text-center text-[#444444] mb-8 font-serif">なぜ、気合だけでは負けるのか？</h2>
          
          <div className="bg-[#DFF0F6] rounded-[2.5rem] p-8 md:p-12 relative overflow-hidden shadow-card text-center">
            <p className="text-[#777777] mb-8 font-sans">あなたの意識は、まるで「氷山」のような構造になっています。</p>

            <div className="relative max-w-sm mx-auto h-64 mb-4">
              {/* Iceberg Tip (3%) */}
              <div className="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-20 bg-white clip-triangle-top flex items-center justify-center pt-6 z-20">
                <span className="text-xl font-bold text-[#9DC2D9]">3%</span>
              </div>
              
              {/* Water Line */}
              <div className="absolute top-[30%] left-0 w-full h-1 bg-[#9DC2D9] z-30">
                 <div className="absolute right-0 -top-6 text-xs bg-white px-2 py-1 rounded text-[#9DC2D9] font-bold">意識（思考）</div>
              </div>

              {/* Iceberg Body (97%) */}
              <div className="absolute top-[28%] left-1/2 -translate-x-1/2 w-56 h-48 bg-gradient-to-b from-[#F8F9FB] to-[#9DC2D9] opacity-90 clip-trapezoid flex items-center justify-center z-10">
                <span className="text-4xl font-bold text-[#9DC2D9]/50 mt-4">97%</span>
              </div>
              
               <div className="absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/80 px-3 py-1 rounded-full text-xs text-[#777777] shadow-sm z-30 whitespace-nowrap">
                  無意識（習慣・過去）
               </div>
            </div>

            <div className="bg-white p-4 rounded-xl inline-block shadow-sm border border-[#E5E7EB] text-left">
               <h3 className="text-sm font-bold text-[#444444] mb-2 flex items-center gap-2">
                 <User size={16} className="text-[#DFA6B9]" /> 綱引きの法則
               </h3>
               <p className="text-xs text-[#777777] leading-relaxed">
                 「変わりたい」3人 vs 「変わりたくない」97人。<br/>
                 勝負は最初から決まっています。<br/>
                 <strong className="text-[#DFA6B9]">気合だけで無意識に勝つのは不可能です。</strong>
               </p>
            </div>
          </div>
        </section>

        {/* 3. The Brain's Energy Saving Mode */}
        <section className="mb-24">
          <div className="flex flex-col md:flex-row gap-8 items-center">
            <div className="md:w-1/2 order-2 md:order-1">
              <span className="text-[#DFA6B9] font-bold text-xs uppercase block font-sans mb-2">The Reason</span>
              <h2 className="text-2xl font-bold text-[#444444] mb-4 font-serif">脳は「超」省エネ主義</h2>
              <p className="text-[#777777] text-sm leading-relaxed mb-4">
                私たちは1日に<strong className="text-lg text-[#DFA6B9]">35,000回</strong>も決断しています。<br/>
                いちいち考えていたら脳がパンクするため、脳は過去のパターンを使って「自動操縦」に切り替えます。
              </p>
              <div className="bg-[#FADCE6]/30 p-4 rounded-xl border-l-4 border-[#DFA6B9] text-xs text-[#777777]">
                「無意識モード」は、あなたを疲れさせないための脳の優しさ（機能）なのです。
              </div>
            </div>
            
            <div className="md:w-1/2 order-1 md:order-2 flex justify-center">
              <div className="bg-[#FFFFFF] p-6 rounded-[2rem] shadow-card border border-[#E5E7EB] w-64 text-center">
                <div className="relative w-24 h-40 mx-auto mb-4 bg-[#F8F9FB] rounded-xl border-4 border-[#444444] p-2 flex flex-col justify-end">
                  <div className="absolute top-1 left-1/2 -translate-x-1/2 w-8 h-3 bg-[#444444] rounded-sm"></div>
                  <div className="w-full h-[20%] bg-[#DFA6B9] animate-pulse rounded-sm"></div>
                  <div className="absolute inset-0 flex items-center justify-center text-[10px] font-bold text-[#777777]">
                    省エネ中
                  </div>
                </div>
                <p className="text-xs text-[#777777]">いつも通り＝バッテリー節約</p>
              </div>
            </div>
          </div>
        </section>

        {/* 4. Homeostasis (The Rubber Band) */}
        <section className="mb-24">
           <div className="text-center mb-8">
             <h2 className="text-2xl font-bold text-[#444444] font-serif">変化＝命の危険！？</h2>
             <p className="text-sm text-[#777777] mt-2">脳には「元に戻す」強力な機能があります。</p>
           </div>

           <div className="bg-[#444444] rounded-3xl p-8 text-white shadow-card flex flex-col md:flex-row items-center gap-8">
             {/* Rubber Band Visual */}
             <div className="w-full md:w-1/2 flex flex-col items-center">
               <div className="relative w-full h-24 flex items-center justify-center">
                  {/* Base */}
                  <div className="absolute left-10 w-4 h-4 rounded-full bg-[#B89679] z-10"></div>
                  <div className="absolute left-10 -bottom-6 text-[10px] text-[#B89679]">現状</div>
                  
                  {/* Target */}
                  <div className="absolute right-10 w-4 h-4 rounded-full bg-[#DFA6B9] z-10"></div>
                  <div className="absolute right-10 -bottom-6 text-[10px] text-[#DFA6B9]">理想</div>

                  {/* Rubber Band */}
                  <div className="w-[80%] h-2 bg-gradient-to-r from-[#B89679] to-[#DFA6B9] rounded-full opacity-50 relative">
                     <div className="absolute inset-0 flex items-center justify-center">
                        <ArrowRight size={24} className="text-white animate-float rotate-180" />
                     </div>
                  </div>
               </div>
               <p className="mt-8 text-sm text-[#DFF0F6] text-center">
                 変わろうと引っ張ると、<br/>
                 ホメオスタシス（恒常性）が強力に引き戻します。
               </p>
             </div>

             <div className="w-full md:w-1/2 bg-white/10 rounded-xl p-6">
                <h3 className="text-[#DFA6B9] font-bold text-sm mb-3 flex items-center gap-2">
                  <Shield size={16} /> 脳の引き戻しサイン
                </h3>
                <ul className="space-y-3 text-xs text-[#F8F9FB]">
                  <li className="flex items-center gap-2">❌ 「急にやる気が出ない」</li>
                  <li className="flex items-center gap-2">❌ 「なぜか体調が悪い」</li>
                  <li className="flex items-center gap-2">❌ 「時間がないから明日にしよう」</li>
                </ul>
                <p className="mt-4 text-[10px] text-[#9DC2D9]">これらは全て、脳があなたを守ろうとする「愛」なのです。</p>
             </div>
           </div>
        </section>

        {/* 5. Auto Response Flow (Simplest Ver) */}
        <section className="mb-24">
           <h2 className="text-2xl font-bold text-[#444444] font-serif text-center mb-10">あなたの「反応」の正体</h2>
           
           <div className="grid md:grid-cols-3 gap-4 max-w-4xl mx-auto">
              {/* Step 1 */}
              <div className="bg-white p-6 rounded-2xl border border-[#E5E7EB] text-center relative">
                <div className="bg-[#F8F9FB] w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-[#777777]">
                  <Zap size={20} />
                </div>
                <h3 className="font-bold text-[#444444] mb-1">1. 出来事</h3>
                <p className="text-xs text-[#777777]">何かを言われた</p>
                
                <div className="hidden md:block absolute top-1/2 -right-5 text-[#B89679] z-10"><ArrowRight /></div>
                <div className="md:hidden flex justify-center mt-2 text-[#B89679]"><ArrowRight className="rotate-90"/></div>
              </div>

              {/* Step 2 (Important) */}
              <div className="bg-[#F8F9FB] p-6 rounded-2xl border-2 border-[#DFA6B9] text-center relative transform md:-translate-y-2 shadow-lg">
                <div className="absolute -top-3 left-1/2 -translate-x-1/2 bg-[#DFA6B9] text-white text-[10px] px-2 py-0.5 rounded-full">原因</div>
                <div className="bg-[#FADCE6] w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-[#DFA6B9]">
                  <Database size={20} />
                </div>
                <h3 className="font-bold text-[#DFA6B9] mb-1">2. 過去データ</h3>
                <p className="text-xs text-[#777777]">「いい子でいなきゃ」<br/>「失敗はダメだ」</p>
                
                <div className="hidden md:block absolute top-1/2 -right-5 text-[#B89679] z-10"><ArrowRight /></div>
                <div className="md:hidden flex justify-center mt-2 text-[#B89679]"><ArrowRight className="rotate-90"/></div>
              </div>

              {/* Step 3 */}
              <div className="bg-[#444444] p-6 rounded-2xl text-center text-white">
                <div className="bg-[#777777] w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-white">
                  <User size={20} />
                </div>
                <h3 className="font-bold mb-1">3. 自動反応</h3>
                <p className="text-xs text-[#DFF0F6]">反射的に我慢する<br/>(ロボット状態)</p>
              </div>
           </div>
           <p className="text-center text-xs text-[#777777] mt-6">
             この流れは0.5秒の早業。考えてやっているわけではありません。
           </p>
        </section>

        {/* 6. Body Connection */}
        <section className="mb-24">
           <div className="bg-[#9DC2D9] rounded-3xl p-8 text-white shadow-card flex flex-col md:flex-row items-center gap-8">
             <div className="md:w-1/2">
               <h2 className="text-xl font-bold mb-3 flex items-center gap-2 font-serif">
                 <Activity /> 心と体はつながっている
               </h2>
               <p className="text-sm leading-relaxed text-[#F8F9FB]">
                 思考が止まらない時は、体を見てください。<br/>
                 必ずどこかが力んでいます。<br/>
                 <strong className="text-white underline decoration-[#DFA6B9]">「体をゆるめる」だけで、思考の暴走は止まります。</strong>
               </p>
             </div>
             
             <div className="md:w-1/2 flex justify-center">
                <div className="bg-white/20 p-4 rounded-xl flex items-center gap-4 border border-white/30">
                   <div className="text-center">
                     <Brain size={24} className="mx-auto mb-1"/>
                     <span className="text-[10px]">思考ぐるぐる</span>
                   </div>
                   <RefreshCw size={20} className="animate-spin-slow" />
                   <div className="text-center">
                     <User size={24} className="mx-auto mb-1 text-[#FADCE6]"/>
                     <span className="text-[10px]">体ガチガチ</span>
                   </div>
                </div>
             </div>
           </div>
        </section>

        {/* 7. Solution */}
        <section className="mb-20">
          <div className="text-center mb-8">
             <span className="bg-[#FADCE6] text-[#DFA6B9] px-3 py-1 rounded-full text-xs font-bold uppercase">Solution</span>
             <h2 className="text-2xl font-bold text-[#444444] mt-4 font-serif">「気づく」だけで魔法は解ける</h2>
          </div>

          <div className="bg-[#FFFFFF] rounded-3xl p-8 shadow-card border border-[#E5E7EB] max-w-2xl mx-auto">
             {/* Chat Bubble Style */}
             <div className="flex flex-col gap-4">
               <div className="flex items-start gap-3">
                 <div className="w-10 h-10 rounded-full bg-[#DFA6B9] flex items-center justify-center text-white shrink-0"><User size={20} /></div>
                 <div className="bg-[#FADCE6]/50 p-4 rounded-2xl rounded-tl-none text-sm text-[#444444]">
                   イラッとした！モヤッとした！
                 </div>
               </div>
               
               <div className="flex items-center justify-center text-[#B89679] text-xs font-bold my-2">
                 ⚡️ ここでストップ！
               </div>

               <div className="flex items-start gap-3 justify-end">
                 <div className="bg-[#DFF0F6] p-4 rounded-2xl rounded-tr-none text-sm text-[#444444] text-right">
                   <strong className="text-[#9DC2D9]">「あ、私いま反応してるな〜」</strong><br/>
                   と実況中継するだけ！
                 </div>
                 <div className="w-10 h-10 rounded-full bg-[#9DC2D9] flex items-center justify-center text-white shrink-0"><Lightbulb size={20} /></div>
               </div>
             </div>

             <div className="mt-8 text-center bg-[#F8F9FB] p-4 rounded-xl text-xs text-[#777777]">
                気づいた瞬間、あなたは「自動ロボット」から「自分の操縦士」に戻れます。
             </div>
          </div>
        </section>

        {/* --- Footer / Next Link --- */}
        <div className="border-t border-[#E5E7EB] pt-12 mt-12 pb-20 text-center">
           <p className="text-[#777777] text-xs mb-6 font-bold tracking-widest">CONTINUE</p>
           <a href="#" className="inline-block bg-[#FFFFFF] border border-[#E5E7EB] rounded-2xl p-6 shadow-sm hover:shadow-md hover:border-[#DFA6B9] transition-all group max-w-md w-full">
             <span className="text-[#DFA6B9] text-xs font-bold mb-1 block">次回予告</span>
             <h3 className="text-lg font-bold text-[#444444] group-hover:text-[#DFA6B9] transition-colors mb-2 font-serif">
               サーカスの象とノミの話
             </h3>
             <p className="text-xs text-[#777777]">あなたの可能性を縛る「思い込み」を外す方法</p>
             <div className="mt-4 flex justify-center text-[#444444] group-hover:translate-x-1 transition-transform">
               <ArrowRight size={20} />
             </div>
           </a>
           
           <div className="mt-12 flex justify-center items-center gap-2 text-[#777777] text-xs hover:text-[#DFA6B9] transition-colors cursor-pointer">
             <Instagram size={16} /> Azu.Selfing
           </div>
        </div>

      </main>
    </div>
  );
};

export default App;
